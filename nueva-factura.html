<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Nueva Factura - EMITÍ</title>
    <meta name="description" content="Generá una nueva factura en Emití Web."/>
    <link rel="icon" href="assets/favicon.png" type="image/png"/>

    <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
    <link rel="dns-prefetch" href="//cdn.jsdelivr.net">
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" as="style" crossorigin>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" crossorigin>

    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" as="style" onload="this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"></noscript>
    
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" as="style" onload="this.rel='stylesheet'">
    <noscript><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet"></noscript>

    <link rel="stylesheet" href="css/bootstrap-overrides.css"/>
    <link rel="stylesheet" href="css/styles.css"/>
    <link rel="stylesheet" href="css/components.css"/>
    <link rel="stylesheet" href="css/responsive.css"/>

</head>
<body>
    <header class="bg-white border-bottom py-3">
        <div class="container d-flex align-items-center gap-3">
            <img src="assets/logo.png" alt="Logo Emití" width="120" height="120" class="img-fluid" decoding="async" fetchpriority="high">
            <h1 class="h5 text-muted mb-0">Gestión Profesional de Facturas</h1>
        </div>
    </header>

    <nav class="menu">
        <div class="container">
            <div class="row row-cols-1 row-cols-sm-2 row-cols-lg-4 g-3">
                <div class="col d-grid">
                    <a href="index.html" class="btn btn-light border rounded-pill w-100 shadow-sm fw-bold d-inline-flex align-items-center justify-content-center gap-2">
                        <i class="fa-solid fa-chart-column"></i> Dashboard
                    </a>
                </div>
                <div class="col d-grid">
                    <a href="nueva-factura.html" aria-current="page" class="btn btn-light border rounded-pill w-100 shadow-sm fw-bold d-inline-flex align-items-center justify-content-center gap-2 active">
                        <i class="fa-solid fa-file-invoice"></i> Nueva Factura
                    </a>
                </div>
                <div class="col d-grid">
                    <a href="facturas.html" class="btn btn-light border rounded-pill w-100 shadow-sm fw-bold d-inline-flex align-items-center justify-content-center gap-2">
                        <i class="fa-solid fa-file-invoice-dollar"></i> Facturas
                    </a>
                </div>
                <div class="col d-grid">
                    <a href="configuracion.html" class="btn btn-light border rounded-pill w-100 shadow-sm fw-bold d-inline-flex align-items-center justify-content-center gap-2">
                        <i class="fa-solid fa-gear"></i> Configuración
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <main class="nueva-factura">
        <div class="container py-4">

            <h2 class="mb-3">Generar Nueva Factura</h2>

            <form id="formNuevaFactura">
                <div class="row g-4">

                    <div class="col-12 col-xl-6">
                        <section class="section-card p-4">
                            <h3 class="h5 mb-3">Datos del Comprobante</h3>
                            
                            <div class="row g-3">
                                <div class="col-6">
                                    <label for="tipoComprobante" class="form-label">Tipo</label>
                                    <select id="tipoComprobante" name="factura-tipo" class="form-select">
                                        <option value="A">Factura A</option>
                                        <option value="B" selected>Factura B</option>
                                        <option value="C">Factura C</option>
                                    </select>
                                </div>
                                
                                <div class="col-6">
                                    <label for="fechaEmision" class="form-label">Fecha de Emisión</label>
                                    <input type="date" id="fechaEmision" name="factura-fecha" class="form-control" data-validation="fecha" required>
                                </div>

                                <div class="col-12">
                                    <label for="descripcionFactura" class="form-label">Descripción</label>
                                    <textarea id="descripcionFactura" name="factura-descripcion" class="form-control" rows="2"></textarea>
                                </div>
                            </div>

                            <h3 class="h5 mt-4 mb-3">Datos del Cliente</h3>
                            <div class="row g-3">
                                <div class="col-12">
                                    <label for="clienteNombre" class="form-label">Nombre o Razón Social</label>
                                    <input type="text" id="clienteNombre" name="cliente-nombre" class="form-control" data-validation="texto" required>
                                </div>
                                <div class="col-6">
                                    <label for="clienteCuit" class="form-label">CUIT/CUIL</label>
                                    <input type="text" id="clienteCuit" name="cliente-cuit" class="form-control" placeholder="XX-XXXXXXXX-X" data-validation="cuit" required>
                                </div>
                                <div class="col-6">
                                    <label for="clienteEmail" class="form-label">Email</label>
                                    <input type="email" id="clienteEmail" name="cliente-email" class="form-control" data-validation="email" required>
                                </div>
                                <div class="col-12">
                                    <label for="clienteDireccion" class="form-label">Dirección</label>
                                    <input type="text" id="clienteDireccion" name="cliente-direccion" class="form-control" data-validation="texto" required>
                                </div>
                                <div class="col-12">
                                    <label for="clienteTelefono" class="form-label">Teléfono (opcional)</label>
                                    <input type="text" id="clienteTelefono" name="cliente-telefono" class="form-control">
                                </div>
                            </div>
                        </section>
                    </div>

                    <div class="col-12 col-xl-6">
                        <section class="section-card p-4">
                            <h3 class="h5 mb-3">Items de la Factura</h3>

                            <div class="card bg-light border-dashed mb-3">
                                <div class="card-body">
                                    <h4 class="h6">Agregar Ítem</h4>
                                    <form id="formNuevoItem" class="row g-3">
                                        <div class="col-12 col-lg-6">
                                            <input type="text" id="itemProducto" name="item-producto" class="form-control" placeholder="Descripción del producto/servicio" data-validation="texto" required>
                                        </div>
                                        <div class="col-8 col-lg-4">
                                            <div class="input-group">
                                                <span class="input-group-text">$</span>
                                                <input type="number" id="itemPrecio" name="item-precio" class="form-control" placeholder="Precio unitario" min="0.01" step="0.01" data-validation="numero" required>
                                            </div>
                                        </div>
                                        <div class="col-4 col-lg-2 d-grid">
                                            <button type="submit" form="formNuevoItem" id="agregarItemBtn" class="btn btn-sm btn-success">
                                                <i class="fa-solid fa-plus"></i>
                                            </button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            
                            <div class="table-responsive">
                                <table class="table table-sm align-middle mb-0">
                                    <thead class="table-secondary">
                                        <tr>
                                            <th>Producto/Servicio</th>
                                            <th class="text-end">Precio</th>
                                            <th class="text-center">Acción</th>
                                        </tr>
                                    </thead>
                                    <tbody id="items-list-body">
                                        <tr>
                                            <td colspan="3" class="text-center text-muted py-3">
                                                Añade un producto o servicio para calcular el total.
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <div class="row g-2 mt-3 fw-bold">
                                <div class="col-6 text-end">Subtotal:</div>
                                <div class="col-6 text-end text-primary" id="outputSubtotal">$0.00</div>
                                
                                <div class="col-6 text-end">IVA (<span id="iva-tasa-output">0%</span>):</div>
                                <div class="col-6 text-end text-primary" id="outputIVA">$0.00</div>
                                
                                <div class="col-6 text-end fs-5">TOTAL:</div>
                                <div class="col-6 text-end fs-5 text-success" id="outputTotal">$0.00</div>
                            </div>

                            <div id="feedback-container" class="mt-4">
                                </div>
                            
                            <div class="d-grid mt-4">
                                <button type="submit" class="btn btn-primary btn-lg">
                                    <i class="fa-solid fa-cloud-arrow-up me-2"></i> Emitir Factura
                                </button>
                            </div>
                        </section>
                    </div>
                </div>
            </form>
        </div>
    </main>

    <footer class="bg-white border-top py-3 mt-4">
        <div class="container d-flex flex-column flex-md-row align-items-center justify-content-between gap-2">
            <ul class="list-inline mb-0 small text-muted">
                <li class="list-inline-item"><a class="text-reset text-decoration-none" href="#">¿Quiénes Somos?</a></li>
                <li class="list-inline-item">•</li>
                <li class="list-inline-item"><a class="text-reset text-decoration-none" href="#">Contacto</a></li>
                <li class="list-inline-item">•</li>
                <li class="list-inline-item"><a class="text-reset text-decoration-none" href="#">Política de Privacidad</a></li>
                <li class="list-inline-item">•</li>
                <li class="list-inline-item"><a class="text-reset text-decoration-none" href="#">Cookies</a></li>
                <li class="list-inline-item">•</li>
                <li class="list-inline-item"><a class="text-reset text-decoration-none" href="preguntas-frecuentes.html">Preguntas Frecuentes</a></li>
            </ul>
            <p class="mb-0 small text-muted">&copy; 2025 Emití. Todos los derechos reservados.</p>
        </div>
    </footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" defer></script>
<script src="js/script.js" type="module" defer></script>
</body>
</html>